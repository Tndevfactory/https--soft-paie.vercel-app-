mysql:
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=server
DB_USERNAME=root
DB_PASSWORD=

git:
  server: 
    git remote add origin https://github.com/Tndevfactory/api-lara-next-lab.git
    git branch -M master
  client: 
    git remote add origin https://github.com/Tndevfactory/api-lara-next-lab.git
    git branch client
    git checkout -b client
    git status
    git push origin client


git clone branch 'client':
  git clone -b client https://github.com/Tndevfactory/api-lara-next-lab.git

git pull branch 'client':
  git status
  git checkout -b client
  git pull
  git push origin client

$employees = DB::table('users')->join('hierarchies', 'users.id', '=', 'hierarchies.user_id')->join('ressources', 'users.id', '=', 'ressources.user_id')->join('role_user', 'users.id', 'role_user.user_id')->join('roles', 'role_user.role_id', 'roles.id')->select('users.*', 'hierarchies.*','ressources.*', 'roles.*')->get()


$employees = DB::table('users')->leftJoin('hierarchies', 'users.id', '=', 'hierarchies.user_id')->leftJoin('ressources', 'users.id', '=', 'ressources.user_id')->leftJoin('role_user', 'users.id', 'role_user.user_id')->leftJoin('roles', 'role_user.role_id', 'roles.id')->select('users.id','users.nom','users.prenom','users.file','hierarchies.manager_name','hierarchies.manager_id','ressources.actif','roles.name')->get()



 const handlePdf = async () => {
    let res = await apiPdf();

    const file = new Blob([res], { type: "application/pdf" });
    const fileURL = URL.createObjectURL(file);
    window.open(fileURL);
  };

  const handleDowloadPdf = async (year, month, id) => {
    let res = await downloadPdf(year, month, id);

    const file = new Blob([res], { type: "application/pdf" });
    const fileURL = URL.createObjectURL(file);
    window.open(fileURL);
  };

migration


 php artisan make:migration add_manager_name_to_hierarchies_table --table=hierarchies
up
 $table->string('manager_name');

 down
 $table->dropColumn('manager_name');

 php artisan migrate

 php artisan make:migration drop_nb_enfant_to_ressources_table --table=ressources
up
  $table->string('rib')->nullable();

 down
 $table->dropColumn('rib');

 php artisan migrate



 role
 User::find(4)->roles()->sync([3])

